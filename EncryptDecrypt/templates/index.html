<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure File Manager</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">
</head>
<body>
    <div class="container">
        <h1>Secure File Manager</h1>
        
        <!-- File Upload Section -->
        <div class="section">
            <h2>Upload & Encrypt File</h2>
            <form id="uploadForm" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="algorithm">Encryption Algorithm:</label>
                    <select id="algorithm" name="algorithm" required>
                        <option value="AES">AES</option>
                        <option value="Salsa20">Salsa20</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="encryptionKey">Encryption Key:</label>
                    <input type="password" id="encryptionKey" name="key" required>
                </div>
                <div class="form-group">
                    <input type="file" id="fileInput" name="file" required>
                    <button type="submit" id="uploadBtn">Upload & Encrypt</button>
                </div>
            </form>
        </div>

        <!-- Operation Controls -->
        <div class="section">
            <h2>Operations</h2>
            <div class="controls">
                <button id="startBtn" class="ctrl-btn">Start</button>
                <button id="pauseBtn" class="ctrl-btn" disabled>Pause</button>
                <button id="resumeBtn" class="ctrl-btn" disabled>Resume</button>
            </div>
            <div id="progressContainer">
                <progress id="progressBar" value="0" max="100"></progress>
                <span id="progressText">0%</span>
            </div>
        </div>

        <!-- File List Section -->
        <div class="section">
            <h2>Encrypted Files</h2>
            <div id="fileList" class="file-list">
                <!-- Dynamic content from script.js -->
            </div>
        </div>

        <!-- Decryption Section -->
        <div class="section" id="decryptSection" style="display: none;">
            <h2>Decrypt File</h2>
            <div class="form-group">
                <input type="password" id="decryptionKey" placeholder="Enter decryption key">
                <button id="decryptBtn" class="action-btn">Decrypt Selected</button>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
